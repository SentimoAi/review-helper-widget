!function(e){e.Sentimo=e.Sentimo||{},e.Sentimo.reviewHelper=function(e){let t=document.querySelector(e.reviewFieldSelector);if(!t)return;let s=Object.assign({},{tooShort:"Please write at least 10 characters.",loading:"Analyzing review...",success:"Review analyzed successfully!",error:"Error validating your review. Please try again."},e.messages||{}),o=e.proxyUrl||"https://sentimoai.com/review-helper/api/proxy",r=document.createElement("img");r.src="https://sentimoai.com/images/sentimo-logo/no-title/sentimo-simple@2x.png",r.alt="Sentimo Review",r.style.position="absolute",r.style.right="12px",r.style.bottom="12px",r.style.width="32px",r.style.height="32px",r.style.cursor="pointer",r.style.zIndex=10;let l=document.createElement("div");l.style.position="absolute",l.style.right="0",l.style.bottom="8px",l.style.transform="translateY(25%)",l.style.maxWidth="280px",l.style.padding="10px",l.style.fontSize="14px",l.style.background="#fff",l.style.border="1px solid #405189",l.style.borderRadius="6px",l.style.boxShadow="0 2px 6px rgba(0,0,0,0.1)",l.style.display="none",l.style.zIndex=9999,l.style.color="#333",e.popupStyle&&"object"==typeof e.popupStyle&&Object.assign(l.style,e.popupStyle),t.style.position="relative",t.parentNode.style.position="relative",t.parentNode.appendChild(r),t.parentNode.appendChild(l);let i=(e,t)=>{l.textContent=t,l.style.display="block",r.style.bottom="-43px"};r.addEventListener("click",()=>{let r=t.value.trim();if(r.length<10){i("error",s.tooShort);return}i("loading",s.loading),fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-Client-Id":e.clientId},body:JSON.stringify({content:r})}).then(async t=>{let o=await t.json().catch(()=>({}));if(o.category&&e.messageOverrides&&e.messageOverrides[o.category]&&(o.message=e.messageOverrides[o.category]),!t.ok){let r=o.error||s.error;throw Error(r)}i("success",o.message||s.success)}).catch(e=>{i("error",e.message||s.error)})})}}(window);
